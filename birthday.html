<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday My Love!</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@400;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #ffebee;
            color: #d32f2f;
            overflow-x: hidden;
            height: 100vh;
        }

        .container {
            width: 100%;
            height: 100vh;
            position: relative;
            overflow: hidden;
        }

        .screen {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
            transition: all 0.5s ease;
            transform: translateX(100%);
            opacity: 0;
        }

        .screen.active {
            transform: translateX(0);
            opacity: 1;
            z-index: 2;
        }

        h1,
        h2 {
            font-family: 'Dancing Script', cursive;
            font-size: 3rem;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .subtitle {
            font-size: 1.5rem;
            margin-bottom: 30px;
            text-align: center;
        }

        .btn-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        button {
            background-color: #ff5252;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        button:hover {
            background-color: #ff1744;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        button i {
            margin-left: 8px;
        }

        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #ff5252;
            z-index: 3;
        }

        /* Heart Animation */
        .heart {
            width: 100px;
            height: 100px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ff5252"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            margin-bottom: 30px;
            animation: heartbeat 1.5s infinite;
        }

        @keyframes heartbeat {
            0% {
                transform: scale(1);
            }

            25% {
                transform: scale(1.1);
            }

            50% {
                transform: scale(1);
            }

            75% {
                transform: scale(1.1);
            }

            100% {
                transform: scale(1);
            }
        }


        /* Gallery Section */
        .gallery-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            width: 90%;
            max-width: 800px;
            margin: 20px auto;
             
        }

        .photo {
            height: 200px;
            background-size: cover;
            background-position: center;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .photo::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 40%;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);
        }

        .photo-caption {
            position: absolute;
            bottom: 10px;
            left: 10px;
            color: white;
            z-index: 2;
            font-weight: bold;
        }

        .photo:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }

        /* Message Section */
        .message-container {
            background-color: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            margin: 20px auto;
            text-align: center;
        }

        .message {
            font-size: 1.2rem;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        #secretMessage {
            display: none;
            margin-top: 20px;
            font-size: 1.3rem;
            color: #e91e63;
            font-weight: bold;
        }

        /* Balloons */
        .balloon {
            position: absolute;
            width: 60px;
            height: 80px;
            background-size: contain;
            background-repeat: no-repeat;
            animation: float 8s infinite ease-in;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 80"><path d="M30 10c0-5.5-4.5-10-10-10S10 4.5 10 10c0 5 3.7 9.1 8.5 9.9V60c0 11 9 20 20 20s20-9 20-20V19.9c4.8-.8 8.5-4.9 8.5-9.9 0-5.5-4.5-10-10-10S30 4.5 30 10z" fill="%23ff5252"/></svg>');
            z-index: 1;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
            }

            100% {
                transform: translateY(-100px) rotate(360deg);
            }
        }

        /* Floating Hearts */
        .heart-float {
            position: absolute;
            font-size: 20px;
            color: #ff5252;
            animation: float-heart 6s linear infinite;
            z-index: 1;
        }

        @keyframes float-heart {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 1;
            }

            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Music Control */
        .music-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
            display: flex;
            gap: 10px;
        }

        .music-control button {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
        }

        /* Responsive */
        @media (max-width: 768px) {

            h1,
            h2 {
                font-size: 2rem;
            }

            .subtitle {
                font-size: 1.2rem;
            }

            /* .cake-container {
                width: 250px;
            } */

            .plate {
                width: 280px;
            }

            .gallery-container {
                grid-template-columns: 1fr;
                   overflow: hidden;
    overflow-y: auto;
            }
        }

        .cake_container {
            width: 400px;
            height: 400px;
            background-color: transparent;
            position: absolute;
            transform: translate(-50%, -50%);
            top: 50%;
            left: 50%;
            border-radius: 8px;
        }

        .cake {
            width: 100%;
            position: absolute;
            bottom: 60px;
        }

        .bottom-layer,
        .top-layer,
        .middle-layer {
            height: 80px;
            width: 240px;
            position: relative;
            margin: auto;
            background-repeat: repeat;
            background-size: 100% 100%, 60px 100px;
            background-position: 28px 0;
            background-image: linear-gradient(transparent 50px,
                    #e3a953 50px,
                    #e3a953 60px,
                    transparent 60px),
                radial-gradient(circle at 30px 5px, #713e16 30px, #eac284 31px);
        }

        .middle-layer {
            transform: scale(0.85);
            top: 72px;
            animation: rise-1 2s forwards;
        }

        @keyframes rise-1 {
            100% {
                top: 7px;
            }
        }

        .top-layer {
            transform: scale(0.7);
            top: 144px;
            animation: rise-2 2s 2s forwards;
        }

        @keyframes rise-2 {
            100% {
                top: 26px;
            }
        }

        .candle {
            background: repeating-linear-gradient(45deg,
                    #fd3018 0,
                    #fd3018 5px,
                    #ffa89e 5px,
                    #ffa89e 10px);
            height: 45px;
            width: 15px;
            position: absolute;
            margin: auto;
            left: 0;
            right: 0;
            bottom: 0;
            animation: rise-3 1s 4s forwards;
        }

        @keyframes rise-3 {
            100% {
                bottom: 202px;
            }
        }

        @keyframes flicker {
            0% {
                transform: scale(1) rotate(45deg);
                opacity: 1;
            }

            20% {
                transform: scale(1.1) rotate(46deg);
                opacity: 0.85;
            }

            40% {
                transform: scale(0.9) rotate(44deg);
                opacity: 0.95;
            }

            60% {
                transform: scale(1.05) rotate(45deg);
                opacity: 0.9;
            }

            80% {
                transform: scale(1) rotate(46deg);
                opacity: 1;
            }

            100% {
                transform: scale(1) rotate(45deg);
                opacity: 0.95;
            }
        }

        .candle::after {
            content: "";
            position: absolute;
            height: 16px;
            width: 16px;
            background-color: #ff9b6e;
            border-radius: 0 50% 50% 50%;
            bottom: 50px;
            left: -0.5px;
            opacity: 0;
            transform: scale(0) rotate(45deg);
        }

        /* Flame ON with flicker animation */
        .candle.flame-on::after {
            opacity: 1;
            transform: scale(1) rotate(45deg);
            animation: flicker 1s infinite ease-in-out;
        }



        @keyframes flame {
            100% {
                transform: scale(1) rotate(45deg);
            }
        }

        .cake_cutting_sec_btn {
            position: absolute;
            bottom: 20%;
        }

        .cake_cuttingHeader {
            position: absolute;
            top: 22%;
        }
    </style>
</head>

<body>
    <!-- <div class="music-control">
        <button id="playBtn"><i class="fas fa-play"></i></button>
        <button id="muteBtn"><i class="fas fa-volume-up"></i></button>
    </div> -->

    <div class="container">
        <audio id="itialmusic" src="startigSong.mpeg" volume="0.8" loop></audio>
        <!-- Main Screen -->
        <section id="main" class="screen active">
            <div class="heart"></div>
            <h1>Happy Birthday <span id="name">My Love</span>!</h1>
            <p class="subtitle">Today is all about you!</p>
            <div class="btn-container">
                <button class="nav-btn" id="cakecuttingsection" data-target="cake">Cut Virtual Cake <i
                        class="fas fa-birthday-cake"></i></button>
                <button class="nav-btn" id="picturemoemets" data-target="gallery">Our Special Moments <i class="fas fa-images"></i></button>
                <button class="nav-btn" id="heart_fulMsg" data-target="message">Heartfelt Message <i
                        class="fas fa-heart"></i></button>
                <audio id="message_music" src="romantic_msgTime.mpeg" volume="0.8" loop></audio>
            </div>
        </section>

        <!-- Cake Screen -->
        <section id="cake" class="screen">
            <div class="back-btn"><i class="fas fa-arrow-left"></i></div>
            <h2 class="cake_cuttingHeader">Make a Wish!</h2>
            <div class="cake_container">
                <div class="cake">
                    <div class="candle"></div>
                    <div class="top-layer"></div>
                    <div class="middle-layer"></div>
                    <div class="bottom-layer"></div>
                </div>
            </div>
            <div class="btn-container cake_cutting_sec_btn">
                <audio id="cakeMusic" src="cake_Cutting.mpeg" volume="0.8"></audio>

                <button id="cutBtn">Cut the Cake</button>
                <button id="blowBtn">Blow Out Candle</button>
            </div>
            <p style="margin-top: 20px; font-style: italic; position: absolute;     bottom: 12%;
    text-align: center;">Make a wish and blow out the candle for a surprise!</p>
        </section>

        <!-- Gallery Screen -->
        <section id="gallery" class="screen">
            <div class="back-btn"><i class="fas fa-arrow-left"></i></div>
            <h2 style="    MARGIN-TOP: 50px;">Our Beautiful Journey Together</h2>
            <p style="margin-bottom: 20px; text-align: center;">Every moment with you is a treasure I cherish</p>
            <div class="gallery-container">
                <div class="photo">
                    <img src="img/imahge3.jpeg" width="100%" height="100%" alt="The Day We Met" class="photo-img" />
                    <div class="photo-caption">The Day We Met</div>
                </div>

                <div class="photo">
                    <img src="img/image1.jpeg" width="100%" height="100%" alt="Special Vacation" class="photo-img" />
                    <div class="photo-caption">Special Vacation</div>
                </div>
                 <div class="photo">
                    <img src="img/image4.jpeg" width="100%" height="100%" alt="Vacation Vibes" class="photo-img" />
                    <div class="photo-caption">Vacation Vibes</div>
                </div>
                 <div class="photo">
                    <img src="img/image2.jpeg" width="100%" height="100%" alt="Our First Date" class="photo-img" />
                    <div class="photo-caption">Stolen Glances</div>
                </div>


                <div class="photo">
                    <img src="img/image8.jpeg" width="100%" height="100%" alt="Our First Date" class="photo-img" />
                    <div class="photo-caption">Endless Memories</div>
                </div>

                 <div class="photo">
                    <img src="img/image6.jpeg" width="100%" height="100%" alt="Our First Date" class="photo-img" />
                    <div class="photo-caption">Falling in Love with You</div>
                </div>

                
            </div>
            <button class="nav-btn" id="readMyMsg" style="margin-top: 20px;" data-target="message">Read My Message<i
                    class="fas fa-heart"></i></button>
        </section>

        <!-- Message Screen -->
        <section id="message" class="screen">
            <div class="back-btn"><i class="fas fa-arrow-left"></i></div>
            <h2>For You, <span id="name2">My Love</span></h2>
            <div class="message-container">
                <p class="message">On your special day, I want you to know how much you mean to me.</p>
                <p class="message">Your smile brightens my darkest days, and your love fills my life with joy.</p>
                <p class="message">Every moment with you is a gift I treasure.</p>
                <p class="message">I promise to stand by you, support you, and love you more with each passing day.</p>
                <button id="secretBtn">Click for My Secret Wish</button>
                <p id="secretMessage">My greatest wish is to make you as happy as you've made me. I love you more than
                    words can express! ❤️</p>
            </div>
        </section>
    </div>

    <audio id="bgMusic" loop>
        <!-- Silent audio fallback -->
        <source
            src="data:audio/mpeg;base64,SUQzBAAAAAABEVRYWFgAAAAtAAADY29tbWVudABCaWdTb3VuZEJhbmsuY29tIC8gTGFTb25vdGhlcXVlLm9yZwBURU5DAAAAHQAAA1N3aXRjaCBQbHVzIMKpIE5DSCBTb2Z0d2FyZQBUSVQyAAAABgAAAzIyMzUAVFNTRQAAAA8AAANMYXZmNTcuODMuMTAwAAAAAAAAAAAAAAD/80DEAAAAA0gAAAAATEFNRTMuMTAwVVVVVVVVVVVVVUxBTUUzLjEwMFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQsRbAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/zQMSkAAADSAAAAABVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV"
            type="audio/mpeg">
    </audio>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        // Confetti effect
        function startConfettiInner() {
            // Create canvas if it doesn't exist
            if ($('#confetti-canvas').length === 0) {
                $('body').append('<canvas id="confetti-canvas" style="position:fixed;top:0;left:0;width:100%;height:100%;z-index:999;pointer-events:none;"></canvas>');

                // Simple confetti implementation
                const canvas = document.getElementById('confetti-canvas');
                const ctx = canvas.getContext('2d');
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;

                const confetti = [];
                const colors = ['#ff5252', '#ff4081', '#e040fb', '#7c4dff', '#536dfe', '#448aff', '#40c4ff'];

                // Create confetti pieces
                for (let i = 0; i < 150; i++) {
                    confetti.push({
                        x: Math.random() * canvas.width,
                        y: Math.random() * canvas.height - canvas.height,
                        r: Math.random() * 4 + 1,
                        d: Math.random() * 5 + 1,
                        color: colors[Math.floor(Math.random() * colors.length)],
                        rotation: Math.random() * 360,
                        spin: (Math.random() - 0.5) * 10
                    });
                }

                // Animation loop
                function drawConfetti() {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);

                    confetti.forEach((dot) => {
                        ctx.beginPath();
                        ctx.fillStyle = dot.color;
                        ctx.moveTo(dot.x, dot.y);
                        ctx.arc(dot.x, dot.y, dot.r, 0, Math.PI * 2);
                        ctx.fill();

                        dot.y += dot.d;
                        dot.rotation += dot.spin;

                        if (dot.y > canvas.height) {
                            dot.y = -10;
                            dot.x = Math.random() * canvas.width;
                        }
                    });

                    requestAnimationFrame(drawConfetti);
                }

                drawConfetti();

                // Store timeout to stop later
                window.confettiTimeout = setTimeout(() => {
                    $('#confetti-canvas').remove();
                }, 5000);
            }
        }

        function stopConfetti() {
            clearTimeout(window.confettiTimeout);
            $('#confetti-canvas').remove();
        }

        function startConfetti() {
            startConfettiInner();
            setTimeout(stopConfetti, 5000);
        }

        // Create floating elements
        function createFloatingElements() {
            const elements = ['❤️', '🎈', '🎂', '🎁', '✨', '🥳'];
            const colors = ['#ff5252', '#ff4081', '#e040fb', '#7c4dff', '#536dfe', '#448aff'];

            setInterval(() => {
                const element = $('<div class="heart-float"></div>');
                const randomElement = elements[Math.floor(Math.random() * elements.length)];
                const randomColor = colors[Math.floor(Math.random() * colors.length)];

                element.text(randomElement);
                element.css({
                    'left': Math.random() * 100 + '%',
                    'font-size': (Math.random() * 20 + 20) + 'px',
                    'color': randomColor,
                    'animation-duration': (Math.random() * 10 + 5) + 's',
                    'animation-delay': Math.random() * 2 + 's'
                });

                $('body').append(element);

                // Remove element after animation completes
                setTimeout(() => {
                    element.remove();
                }, 12000);
            }, 300);
        }

        $(document).ready(function () {
            // Ask for name
            //let name = localStorage.getItem('birthdayName') || prompt("What's your girlfriend's name?") || "My Love";
            //localStorage.setItem('birthdayName', name);
            $('#name, #name2').text("iti");

            const currentMusic = document.getElementById("itialmusic");

            // Pause all other audio elements
            const allAudios = document.querySelectorAll("audio");
            allAudios.forEach(audio => {
                if (audio !== currentMusic) {
                    audio.pause();
                    audio.currentTime = 0; // rewind other tracks
                }
            });

            // Play the cake music
            currentMusic.play();

            // Create floating elements
            //createFloatingElements();

            // Navigation
            $('.nav-btn').click(function () {
                const target = $(this).data('target');
                $('.screen.active').removeClass('active');
                $('#' + target).addClass('active');

                if (target === 'cake') {
                    startConfetti();
                }
            });

            $('.back-btn').click(function () {
                $('.screen.active').removeClass('active');
                $('#main').addClass('active');
            });

            // Cake interactions
            $('#cutBtn').click(function () {
                $('.cake').css('transform', 'translateY(20px) scale(0.95)');
                setTimeout(() => {
                    $('.cake').css('transform', 'translateY(0) scale(1)');
                }, 1000);
                startConfetti();
                const currentMusic = document.getElementById("cakeMusic");

                // Pause all other audio elements
                const allAudios = document.querySelectorAll("audio");
                allAudios.forEach(audio => {
                    if (audio !== currentMusic) {
                        audio.pause();
                        audio.currentTime = 0; // rewind other tracks
                    }
                });

                // Play the cake music
                currentMusic.play();
            });


            $("#heart_fulMsg").click(function () {
                const currentMusic = document.getElementById("message_music");

                // Pause all other audio elements
                const allAudios = document.querySelectorAll("audio");
                allAudios.forEach(audio => {
                    if (audio !== currentMusic) {
                        audio.pause();
                        audio.currentTime = 0; // rewind other tracks
                    }
                });

                // Play the cake music
                currentMusic.play();
            })


            $("#cakecuttingsection").click(function(){
                const currentMusic = document.getElementById("itialmusic");

            // Pause all other audio elements
            const allAudios = document.querySelectorAll("audio");
            allAudios.forEach(audio => {
                if (audio !== currentMusic) {
                    audio.pause();
                    audio.currentTime = 0; // rewind other tracks
                }
            });

            // Play the cake music
            currentMusic.play();
            });


             $("#picturemoemets").click(function(){
                const currentMusic = document.getElementById("itialmusic");

            // Pause all other audio elements
            const allAudios = document.querySelectorAll("audio");
            allAudios.forEach(audio => {
                if (audio !== currentMusic) {
                    audio.pause();
                    audio.currentTime = 0; // rewind other tracks
                }
            });

            // Play the cake music
            currentMusic.play();
            })

            $("#readMyMsg").click(function(){
                const currentMusic = document.getElementById("message_music");

                // Pause all other audio elements
                const allAudios = document.querySelectorAll("audio");
                allAudios.forEach(audio => {
                    if (audio !== currentMusic) {
                        audio.pause();
                        audio.currentTime = 0; // rewind other tracks
                    }
                });

                // Play the cake music
                currentMusic.play();
            })
            $('#blowBtn').click(function () {
                $('.flame').animate({ opacity: 0 }, 1000, function () {
                    startConfetti();
                    setTimeout(() => {
                        $('.flame').css('opacity', 1);
                    }, 3000);
                });
            });

            // Secret message
            $('#secretBtn').click(function () {
                $('#secretMessage').fadeIn();
                startConfetti();
            });

            // Music player
            const music = document.getElementById('bgMusic');
            const playBtn = $('#playBtn');
            const muteBtn = $('#muteBtn');

            // Try to autoplay music (may not work due to browser restrictions)
            music.volume = 0.5;
            const playPromise = music.play();

            if (playPromise !== undefined) {
                playPromise.catch(error => {
                    // Auto-play was prevented, show UI to let user start music
                    playBtn.show();
                });
            }

            playBtn.click(function () {
                if (music.paused) {
                    music.play();
                    playBtn.html('<i class="fas fa-pause"></i>');
                } else {
                    music.pause();
                    playBtn.html('<i class="fas fa-play"></i>');
                }
            });

            muteBtn.click(function () {
                music.muted = !music.muted;
                muteBtn.html(music.muted ? '<i class="fas fa-volume-mute"></i>' : '<i class="fas fa-volume-up"></i>');
            });

            // Start with some confetti
            setTimeout(startConfetti, 1000);
        });

        const blowBtn = document.getElementById("blowBtn");
        const candle = document.querySelector(".candle");

        blowBtn.addEventListener("click", () => {
            candle.classList.toggle("flame-on"); // Toggle flame visibility
        });
    </script>
</body>

</html>